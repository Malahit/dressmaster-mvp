# Dressmaster API

Fastify-—Å–µ—Ä–≤–µ—Ä, –∫–æ—Ç–æ—Ä—ã–π —É–ø—Ä–∞–≤–ª—è–µ—Ç –≥–∞—Ä–¥–µ—Ä–æ–±–æ–º, –æ–±—Ä–∞–∑–∞–º–∏ –∏ –∫–∞–ª–µ–Ω–¥–∞—Ä—ë–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è.

---

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç (–ª–æ–∫–∞–ª—å–Ω–æ)

1) –£—Å—Ç–∞–Ω–æ–≤–∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –≤ –∫–æ—Ä–Ω–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è:
```bash
pnpm install
```

2) –°–≥–µ–Ω–µ—Ä–∏—Ä—É–π Prisma Client:
```bash
pnpm -C api prisma:generate
```

3) –ù–∞—Å—Ç—Ä–æ–π –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è (—Å–∫–æ–ø–∏—Ä—É–π `.env.example` –≤ `.env` –∏ –∑–∞–ø–æ–ª–Ω–∏):
```bash
cp .env.example .env
```

**–û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ:**
- `DATABASE_URL` ‚Äî —Å—Ç—Ä–æ–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ PostgreSQL
- `JWT_SECRET` ‚Äî —Å–µ–∫—Ä–µ—Ç –¥–ª—è JWT-—Ç–æ–∫–µ–Ω–æ–≤

**–û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ:**
- `PERPLEXITY_API_KEY` ‚Äî API –∫–ª—é—á Perplexity AI –¥–ª—è AI-powered –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –æ–±—Ä–∞–∑–æ–≤
- `POSTHOG_API_KEY` ‚Äî –∫–ª—é—á PostHog –¥–ª—è –∞–Ω–∞–ª–∏—Ç–∏–∫–∏
- `PORT` ‚Äî –ø–æ—Ä—Ç —Å–µ—Ä–≤–µ—Ä–∞ (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é 3000)

4) –ó–∞–ø—É—Å—Ç–∏ –º–∏–≥—Ä–∞—Ü–∏–∏ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö:
```bash
pnpm -C api prisma:migrate
```

5) –ó–∞–ø—É—Å—Ç–∏ —Å–µ—Ä–≤–µ—Ä –≤ —Ä–µ–∂–∏–º–µ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏:
```bash
pnpm -C api dev
```

---

## ü§ñ –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Perplexity AI

API –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—é —Å Perplexity AI –¥–ª—è —É–ª—É—á—à–µ–Ω–Ω–æ–π –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –æ–±—Ä–∞–∑–æ–≤. 

### –ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç:

1. **–° Perplexity AI** (–∫–æ–≥–¥–∞ `PERPLEXITY_API_KEY` –Ω–∞—Å—Ç—Ä–æ–µ–Ω):
   - –ü—Ä–∏ –≤—ã–∑–æ–≤–µ `/outfits/generate` —Å–∏—Å—Ç–µ–º–∞ —Å–Ω–∞—á–∞–ª–∞ –æ–±—Ä–∞—â–∞–µ—Ç—Å—è –∫ Perplexity AI
   - AI –∞–Ω–∞–ª–∏–∑–∏—Ä—É–µ—Ç –≤–∞—à –≥–∞—Ä–¥–µ—Ä–æ–± –∏ –ø–æ–¥–±–∏—Ä–∞–µ—Ç –æ–ø—Ç–∏–º–∞–ª—å–Ω—ã–µ –∫–æ–º–±–∏–Ω–∞—Ü–∏–∏
   - –£—á–∏—Ç—ã–≤–∞–µ—Ç—Å—è —Å–æ–±—ã—Ç–∏–µ (work/date/sport), —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞, —Ü–≤–µ—Ç–æ–≤–∞—è –≥–∞–º–º–∞
   - –ö–∞–∂–¥—ã–π –æ–±—Ä–∞–∑ —Å–æ–ø—Ä–æ–≤–æ–∂–¥–∞–µ—Ç—Å—è –æ–±—ä—è—Å–Ω–µ–Ω–∏–µ–º –≤—ã–±–æ—Ä–∞

2. **–ë–µ–∑ Perplexity AI** (fallback –Ω–∞ –ø—Ä–∞–≤–∏–ª–∞):
   - –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è rule-based –∞–ª–≥–æ—Ä–∏—Ç–º —Å –ª–æ–≥–∏–∫–æ–π —Å–æ—á–µ—Ç–∞–Ω–∏—è —Ü–≤–µ—Ç–æ–≤ –∏ —Ñ–æ—Ä–º–∞–ª—å–Ω–æ—Å—Ç–∏
   - –†–∞–±–æ—Ç–∞–µ—Ç –ø–æ–ª–Ω–æ—Å—Ç—å—é –æ—Ñ—Ñ–ª–∞–π–Ω –±–µ–∑ –≤–Ω–µ—à–Ω–∏—Ö API

### –ü–æ–ª—É—á–µ–Ω–∏–µ API –∫–ª—é—á–∞:

1. –ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–π—Å—è –Ω–∞ [Perplexity AI](https://www.perplexity.ai/)
2. –ü–µ—Ä–µ–π–¥–∏ –≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ API
3. –°–æ–∑–¥–∞–π –Ω–æ–≤—ã–π API –∫–ª—é—á
4. –î–æ–±–∞–≤—å –µ–≥–æ –≤ `.env` –∫–∞–∫ `PERPLEXITY_API_KEY`

### –ö–æ–ª–ª–µ–∫—Ü–∏—è –∑–Ω–∞–Ω–∏–π:

–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –∫–æ–ª–ª–µ–∫—Ü–∏—é –∑–Ω–∞–Ω–∏–π Dressmaster: https://www.perplexity.ai/collections/dressmaster-e4RUr03iQNCyQmnz6cKWbg

---

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

–ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤:
```bash
pnpm -C api test
```

---

## üì¶ –°–±–æ—Ä–∫–∞

–°–±–æ—Ä–∫–∞ –¥–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞:
```bash
pnpm -C api build
```

–ó–∞–ø—É—Å–∫ –ø—Ä–æ–¥–∞–∫—à–µ–Ω-–≤–µ—Ä—Å–∏–∏:
```bash
pnpm -C api start
```
