# Оценка текущего состояния проекта

## Сильные стороны
- Монорепо на pnpm с раздельными пакетами `api` и `mobile`, есть docker-compose для Postgres и базовые архитектурные/продуктовые спецификации.
- API на Fastify + Prisma + Zod: есть схема данных, JWT-авторизация, хеширование пароля, простая генерация образов и минимальные тесты (health).
- Мобильное приложение на Expo RN использует PostHog, axios с токенами в SecureStore, Zustand для auth-состояния и типизированную навигацию.

## Слабые стороны
- Безопасность API: дефолтный JWT_SECRET, нет проверки принадлежности вещей при обновлении/удалении (можно менять чужие записи), отсутствует валидация связей при создании образов/календаря и единый хэндлинг ошибок.
- Качество кода/покрытие: только один тест в API, в mobile нет тестов и линт по умолчанию не запускается из корня.
- Мобильный клиент частично реализован: навигация ссылается на экраны, которых нет (`AddItem`, `Outfit`, `Calendar`), экран `Items` обрезан, нет загрузки/добавления вещей и списка образов/календаря.
- Генератор образов примитивен: жёстко заданные веса, нет учета сезонов, погодных диапазонов и обратной связи пользователя.

## Рекомендации по развитию
- Усилить безопасность: требовать JWT_SECRET из окружения, в CRUD-запросах фильтровать по `userId`, проверять, что `topId/bottomId/shoesId` принадлежат пользователю, добавить единый обработчик ошибок и более точные коды ответов.
- Расширить тестирование: интеграционные тесты для auth/items/outfits/calendar, юнит-тесты генератора, базовые e2e флоу для mobile (Jest + RTL), добавить mobile lint в корневой скрипт CI.
- Доработать мобильный клиент: реализовать/подключить экраны `AddItem`, `Outfit`, `Calendar`, завершить `ItemsScreen`, добавить стейт загрузки/ошибок и предварительное чтение токена из SecureStore.
- Улучшить продуктовую ценность: улучшить генератор (правила по сезону/температуре/формальности, учёт фидбека), сохранить фото в S3/Cloud Storage, настроить конфиги PostHog/API через `app.json`.
